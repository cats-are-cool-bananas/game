namespace SpriteKind {
    export const loder = SpriteKind.create()
    export const clon = SpriteKind.create()
    export const eneny1 = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    statusbar.value += list._pickRandom()
    music.play(music.melodyPlayable(music.smallCrash), music.PlaybackMode.UntilDone)
    pause(1000)
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    characterAnimations.loopFrames(
    mySprite,
    [img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ..................f.............
        .................fff............
        ................f2f2f...........
        ................fffff...........
        ............ff...fff...ff.......
        ...........f..f...f...f..f......
        ...........f...f.fff.f...f......
        ...........f..fff.f.fff..f......
        ...........f.f..f.f.f..f.f......
        ...........f.f..f.f.f..f.f......
        ..................f.............
        .................f.f............
        .................f.f............
        .................f.f............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    1,
    characterAnimations.rule(Predicate.MovingUp)
    )
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    characterAnimations.loopFrames(
    mySprite,
    [img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        .................f.f............
        .................f.f............
        .................f.f............
        ..................f.............
        ...........f.f..f.f.f..f.f......
        ...........f.f..f.f.f..f.f......
        ...........f..fff.f.fff..f......
        ...........f...f.fff.f...f......
        ...........f..f...f...f..f......
        ............ff...fff...ff.......
        ................fffff...........
        ................f2f2f...........
        .................fff............
        ..................f.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    1,
    characterAnimations.rule(Predicate.MovingDown)
    )
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    animation.runImageAnimation(
    mySprite5,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 2 2 2 2 2 2 2 2 2 2 2 . . 
        . . 3 3 3 3 3 3 3 3 3 3 3 3 . . 
        . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . 3 3 3 3 3 3 3 3 3 3 3 3 . . 
        . . 2 2 2 2 2 2 2 2 2 2 2 2 . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . 2 2 2 2 . . . 
        . . . . . . . 2 2 1 1 1 1 2 . . 
        . . . . 2 2 3 3 1 1 1 1 1 1 . . 
        . . 3 3 3 3 1 1 1 1 1 1 1 1 . . 
        . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . 3 3 2 2 3 1 1 1 1 1 1 1 . . 
        . . . . . . 2 2 3 1 1 1 1 2 . . 
        . . . . . . . . . 2 2 2 2 . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 1 3 . . . . . . 
        . . . . . . 1 3 . 3 3 . . . . . 
        . . . . . . 1 . . . 3 2 2 3 . . 
        . . . . . 1 3 . . . 2 2 1 3 3 . 
        . . . . . 1 3 . 2 2 3 1 1 1 3 . 
        . . 2 2 2 1 3 3 3 3 3 1 1 1 3 . 
        . . 1 1 1 1 3 1 1 1 1 1 1 1 3 . 
        . . 2 2 2 1 3 3 3 3 3 1 1 1 3 . 
        . . . . . 1 3 . 2 2 3 1 1 1 3 . 
        . . . . . 1 3 . . . 2 2 1 3 3 . 
        . . . . . . 1 . . . 3 2 2 3 . . 
        . . . . . . 1 3 . 3 3 . . . . . 
        . . . . . . . 1 1 3 . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . 3 3 . . . 3 . . . . . 
        . . . . 3 3 . . . . 3 3 . . . . 
        . . . . 3 . . . . . . 3 3 . . . 
        . . . . . . . . . . . . 3 . . . 
        . . . . . . . . . . . . . . . . 
        . . 3 . . . . . . . . . . . . . 
        . . 3 . . . . . . . . . . 3 . . 
        . . 3 . . . . . . . . . . 3 . . 
        . . . . . . . . . . . . . 3 . . 
        . . . . . . . . . . . . . . . . 
        . . . 3 . . . . . . . . . . . . 
        . . . 3 3 . . . . . . 3 . . . . 
        . . . . 3 3 . . . . 3 3 . . . . 
        . . . . . . . . . 3 3 . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    500,
    false
    )
    music.play(music.melodyPlayable(music.pewPew), music.PlaybackMode.UntilDone)
    pause(1000)
    statusbar.value += -2
    sprites.destroy(mySprite5)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    characterAnimations.loopFrames(
    mySprite,
    [img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................f...............
        ...............fff..............
        ..............f2f2f.............
        ..............fffff.............
        ...............fff..............
        ................f...............
        ...............fff..............
        ..............f.f.f.............
        ..............f.f.f.............
        ..............f.f.f.............
        ................f...............
        ...............f.f..............
        ...............f.f..............
        ...............f.f..............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................f...............
        ...............fff..............
        ..............f2f2f.............
        ..............fffff.............
        ...............fff..............
        ................f...............
        ...............fff..............
        ..............f.f.f.............
        ..............f.f.f.............
        ..............f.f.f.............
        ................f...............
        ...............f.f..............
        ..............f..f..............
        .............f...f..............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................f...............
        ...............fff..............
        ..............f2f2f.............
        ..............fffff.............
        ...............fff..............
        ................f...............
        ...............fff..............
        ..............f.f.f.............
        ..............f.f.f.............
        ..............f.f.f.............
        ................f...............
        ...............f.f..............
        ..............f.f...............
        .............f.f................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................f...............
        ...............fff..............
        ..............f2f2f.............
        ..............fffff.............
        ...............fff..............
        ................f...............
        ...............fff..............
        ..............f.f.f.............
        .............f..f.f.............
        ............f...f.f.............
        ................f...............
        ...............f.f..............
        ..............f.f...............
        .............f.f................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................f...............
        ...............fff..............
        ..............f2f2f.............
        ..............fffff.............
        ...............fff..............
        ................f...............
        ...............fff..............
        ..............f.f.f.............
        .............f..ff..............
        ............f...f...............
        ................f...............
        ...............f.f..............
        ..............f.f...............
        .............f.f................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    50,
    characterAnimations.rule(Predicate.MovingRight)
    )
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile4`, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level2`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(14, 3))
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile4`, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level30`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(6, 9))
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    characterAnimations.loopFrames(
    mySprite,
    [img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...............f................
        ..............fff...............
        .............f2f2f..............
        .............fffff..............
        ..............fff...............
        ...............f................
        ..............fff...............
        .............f.f.f..............
        .............f.f.f..............
        .............f.f.f..............
        ...............f................
        ..............f.f...............
        ..............f.f...............
        ..............f.f...............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...............f................
        ..............fff...............
        .............f2f2f..............
        .............fffff..............
        ..............fff...............
        ...............f................
        ..............fff...............
        .............f.f.f..............
        .............f.f.f..............
        .............f.f.f..............
        ...............f................
        ..............f.f...............
        ..............f..f..............
        ..............f...f.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...............f................
        ..............fff...............
        .............f2f2f..............
        .............fffff..............
        ..............fff...............
        ...............f................
        ..............fff...............
        .............f.f.f..............
        .............f.f.f..............
        .............f.f.f..............
        ...............f................
        ..............f.f...............
        ...............f.f..............
        ................f.f.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...............f................
        ..............fff...............
        .............f2f2f..............
        .............fffff..............
        ..............fff...............
        ...............f................
        ..............fff...............
        .............f.f.f..............
        .............f.f..f.............
        .............f.f...f............
        ...............f................
        ..............f.f...............
        ...............f.f..............
        ................f.f.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `,img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ...............f................
        ..............fff...............
        .............f2f2f..............
        .............fffff..............
        ..............fff...............
        ...............f................
        ..............fff...............
        .............f.f.f..............
        ..............ff..f.............
        ...............f...f............
        ...............f................
        ..............f.f...............
        ...............f.f..............
        ................f.f.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    50,
    characterAnimations.rule(Predicate.MovingRight)
    )
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile2`, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level11`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 14))
    pause(100)
    tiles.setTileAt(tiles.getTileLocation(1, 14), assets.tile`transparency16`)
    myEnemy = sprites.create(img`
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
        `, SpriteKind.eneny1)
    tiles.placeOnTile(myEnemy, tiles.getTileLocation(11, 2))
    mySprite5 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . 2 2 2 2 2 2 2 2 2 2 2 2 . . 
        . . 3 3 3 3 3 3 3 3 3 3 3 3 . . 
        . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . 1 1 1 1 1 1 1 1 1 1 1 1 . . 
        . . 3 3 3 3 3 3 3 3 3 3 3 3 . . 
        . . 2 2 2 2 2 2 2 2 2 2 2 2 . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Projectile)
    tiles.placeOnTile(mySprite5, tiles.getTileLocation(11, 2))
    mySprite5.follow(mySprite, 50)
})
controller.right.onEvent(ControllerButtonEvent.Repeated, function () {
    characterAnimations.loopFrames(
    mySprite,
    [img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ..............fffff.............
        ...................f............
        ..............ff...f............
        ................f.f.............
        ................ff..............
        ..............fff...ff..........
        ..........fff....f.ff2f.........
        .............fffffffffff........
        ..........fff....f.ff2f.........
        ..............fff...ff..........
        ................ff..............
        ................f.f.............
        ..............ff...f............
        ...................f............
        ..............fffff.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    1,
    characterAnimations.rule(Predicate.MovingRight)
    )
})
controller.A.onEvent(ControllerButtonEvent.Repeated, function () {
    statusbar.value += 1
    statusbar2.value += -2
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.doorClosedNorth, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level29`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 9))
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`transparency16`, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level2`)
})
controller.combos.attachCombo("B+L", function () {
	
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.floorLight1, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level4`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(2, 6))
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    characterAnimations.loopFrames(
    mySprite,
    [img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        .............fffff..............
        ............f...................
        ............f...ff..............
        .............f.f................
        ..............ff................
        ..........ff...fff..............
        .........f2ff.f....fff..........
        ........fffffffffff.............
        .........f2ff.f....fff..........
        ..........ff...fff..............
        ..............ff................
        .............f.f................
        ............f...ff..............
        ............f...................
        .............fffff..............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    1,
    characterAnimations.rule(Predicate.MovingLeft)
    )
    mySprite.setVelocity(-50, 0)
    timer.debounce("action", 5000, function () {
        mySprite.setVelocity(0, 0)
    })
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile3`, function (sprite, location) {
    statusbar2.value += 1
    pause(5000)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.overlapsWith(mySprite4)) {
        tiles.setCurrentTilemap(tilemap`level23`)
        tiles.placeOnTile(mySprite, tiles.getTileLocation(10, 6))
        sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
    }
})
statusbars.onZero(StatusBarKind.Energy, function (status) {
    while (true) {
        statusbar2.value = 0
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile0`, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level25`)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.chestClosed, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level15`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(4, 1))
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile`, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level30`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 9))
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.floorLight4, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level2`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(14, 7))
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.collectibleInsignia, function (sprite, location) {
    tiles.setCurrentTilemap(tilemap`level11`)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 14))
    pause(100)
    tiles.setTileAt(tiles.getTileLocation(1, 14), assets.tile`transparency16`)
})
let myEnemy: Sprite = null
let mySprite5: Sprite = null
let mySprite4: Sprite = null
let list: number[] = []
let statusbar: StatusBarSprite = null
let statusbar2: StatusBarSprite = null
let mySprite: Sprite = null
let mySprite2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.loder)
controller.startLightPulse(0x00ff00, 5000)
characterAnimations.loopFrames(
mySprite2,
[img`
    c c c c c c c c c c c c c c c c 
    c c c c c c c f f c c c c c c c 
    c c c c c c f f f f c c c c c c 
    c c c c c f f f f f f c c c c c 
    c c c c f f f f f f f f c c c c 
    c c c c f f f f f f f f c c c c 
    c c c f f 3 f f f f 3 f f c c c 
    c c c f f f f f f f f f f c c c 
    c c c f f f 3 f f f f f f c c c 
    c c f f f f f 3 3 f f f f f c c 
    c c f f f f f f f f f f f f c c 
    c c f f f f f f f f f f f f c c 
    f f f f f f f f f f f f f f f f 
    c c c c c c c c c c c c c c c c 
    c c c c c c c c c c c c c c c c 
    c c c c c c c c c c c c c c c c 
    `,img`
    c c c c c c c c c c c c f c c c 
    c c c c c c c c c c c c f c c c 
    c c c c c c c c c f f f f c c c 
    c c c c c c f f f f f f f c c c 
    c c c c f f f f f f f f f c c c 
    c c c f f f 3 f f f f f f c c c 
    c c f f f f f f f f f f f c c c 
    c f f f f f f f f 3 f f f c c c 
    c f f f f f f f f 3 f f f c c c 
    c c f f f f f f 3 f f f f c c c 
    c c c f f f 3 f f f f f f c c c 
    c c c c f f f f f f f f f c c c 
    c c c c c c f f f f f f f c c c 
    c c c c c c c c c f f f f c c c 
    c c c c c c c c c c c c f c c c 
    c c c c c c c c c c c c f c c c 
    `,img`
    c c c c c c c c c c c c c c c c 
    c c c c c c c c c c c c c c c c 
    c c c c c c c c c c c c c c c c 
    f f f f f f f f f f f f f f f f 
    c c f f f f f f f f f f f f c c 
    c c f f f f f f f f f f f f c c 
    c c f f f f f 3 3 f f f f f c c 
    c c c f f f f f f 3 f f f c c c 
    c c c f f f f f f f f f f c c c 
    c c c f f 3 f f f f 3 f f c c c 
    c c c c f f f f f f f f c c c c 
    c c c c f f f f f f f f c c c c 
    c c c c c f f f f f f c c c c c 
    c c c c c c f f f f c c c c c c 
    c c c c c c c f f c c c c c c c 
    c c c c c c c c c c c c c c c c 
    `,img`
    c c c f c c c c c c c c c c c c 
    c c c f c c c c c c c c c c c c 
    c c c f f f f c c c c c c c c c 
    c c c f f f f f f f c c c c c c 
    c c c f f f f f f f f f c c c c 
    c c c f f f f f f 3 f f f c c c 
    c c c f f f f 3 f f f f f f c c 
    c c c f f f 3 f f f f f f f f c 
    c c c f f f 3 f f f f f f f f c 
    c c c f f f f f f f f f f f c c 
    c c c f f f f f f 3 f f f c c c 
    c c c f f f f f f f f f c c c c 
    c c c f f f f f f f c c c c c c 
    c c c f f f f c c c c c c c c c 
    c c c f c c c c c c c c c c c c 
    c c c f c c c c c c c c c c c c 
    `],
1,
characterAnimations.rule(Predicate.NotMoving)
)
pause(100)
mySprite2.setPosition(0, 120)
mySprite2.setImage(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `)
mySprite = sprites.create(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ..............f.................
    .............fff................
    ............f2f2f...............
    ............fffff...............
    .............fff................
    ..............f.................
    .............fff................
    ............f.f.f...............
    ............f.f.f...............
    ............f.f.f...............
    ..............f.................
    .............f.f................
    .............f.f................
    .............f.f................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `, SpriteKind.Player)
mySprite.setBounceOnWall(false)
statusbar2 = statusbars.create(20, 4, StatusBarKind.Energy)
statusbar = statusbars.create(20, 4, StatusBarKind.Health)
statusbar2.setColor(6, 13, 9)
statusbar.positionDirection(CollisionDirection.Left)
statusbar2.positionDirection(CollisionDirection.Top)
statusbar2.max = 10
statusbar2.attachToSprite(mySprite)
statusbar2.value = 0
statusbar.setLabel("HP")
statusbar.max = 3
statusbar.value = 3
statusbar.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
list = [
0,
-1,
0,
0
]
blockSettings.writeNumber("lvol", 0)
statusbar.attachToSprite(mySprite)
scene.cameraFollowSprite(mySprite)
tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 4))
controller.moveSprite(mySprite, 50, 50)
scene.setBackgroundColor(12)
mySprite.setVelocity(0, 0)
characterAnimations.loopFrames(
mySprite,
[img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ...............f................
    ..............fff...............
    .............f2f2f..............
    .............fffff..............
    ..............fff...............
    ...............f................
    ..............fff...............
    .............f.f.f..............
    .............f.f.f..............
    .............f.f.f..............
    ...............f................
    ..............f.f...............
    ..............f.f...............
    ..............f.f...............
    ................................
    ................................
    ................................
    ................................
    ................................
    `],
500,
characterAnimations.rule(Predicate.NotMoving)
)
characterAnimations.loopFrames(
mySprite2,
[img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `],
500,
characterAnimations.rule(Predicate.FacingDown)
)
characterAnimations.setCharacterState(mySprite2, characterAnimations.rule(Predicate.FacingDown))
tiles.setCurrentTilemap(tilemap`level2`)
controller.combos.setTriggerType(TriggerType.Continuous)
mySprite4 = sprites.create(img`
    ........................
    ..............fff.......
    .............f2fffff....
    ...........ff22eeeeeff..
    ..........ff222eeeeeeff.
    ..........feeeefffeeeef.
    .........fe2222eeefffff.
    .........f2efffff222efff
    ..cc.....fffeeefffffffff
    ..cdcc...fee44fbbe44efef
    ..ccddcc..feddfbb4d4eef.
    ....cdddceefddddd4eeef..
    .....ccdcddee2222222f...
    ......cccdd44e544444f...
    .........eeeeffffffff...
    .............ff...fff...
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Enemy)
tiles.placeOnTile(mySprite4, tiles.getTileLocation(13, 14))
animation.runImageAnimation(
mySprite4,
[img`
    . . . . . . . . . . . . . . . . 
    . . . . . f f f f f f . . . . . 
    . . . f f e e e e f 2 f . . . . 
    . . f f e e e e f 2 2 2 f . . . 
    . . f e e e f f e e e e f . . . 
    . . f f f f e e 2 2 2 2 e f . . 
    . . f e 2 2 2 f f f f e 2 f . . 
    . f f f f f f f e e e f f f . . 
    . f f e 4 4 e b f 4 4 e e f . . 
    . f e e 4 d 4 1 f d d e f . . . 
    . . f e e e e e d d d f . . . . 
    . . . . f 4 d d e 4 e f . . . . 
    . . . . f e d d e 2 2 f . . . . 
    . . . f f f e e f 5 5 f f . . . 
    . . . f f f f f f f f f f . . . 
    . . . . f f . . . f f f . . . . 
    `,img`
    . . . . . f f f f f f . . . . . 
    . . . f f e e e e f 2 f . . . . 
    . . f f e e e e f 2 2 2 f . . . 
    . . f e e e f f e e e e f . . . 
    . . f f f f e e 2 2 2 2 e f . . 
    . . f e 2 2 2 f f f f e 2 f . . 
    . f f f f f f f e e e f f f . . 
    . f f e 4 4 e b f 4 4 e e f . . 
    . f e e 4 d 4 1 f d d e f f . . 
    . . f e e e 4 d d d d f d d f . 
    . . . f f e e 4 e e e f b b f . 
    . . . . f 2 2 2 4 d d e b b f . 
    . . . . e 2 2 2 e d d e b f . . 
    . . . . f 4 4 4 f e e f f . . . 
    . . . . . f f f f f f . . . . . 
    . . . . . . f f f . . . . . . . 
    `,img`
    . . . . . . . . . . . . . . . . 
    . . . . . f f f f f f . . . . . 
    . . . f f e e e e f 2 f . . . . 
    . . f f e e e e f 2 2 2 f . . . 
    . . f e e e f f e e e e f . . . 
    . . f f f f e e 2 2 2 2 e f . . 
    . . f e 2 2 2 f f f f e 2 f . . 
    . f f f f f f f e e e f f f . . 
    . f f e 4 4 e b f 4 4 e e f . . 
    . f e e 4 d 4 1 f d d e f . . . 
    . . f e e e e e d d d f . . . . 
    . . . . f 4 d d e 4 e f . . . . 
    . . . . f e d d e 2 2 f . . . . 
    . . . f f f e e f 5 5 f f . . . 
    . . . f f f f f f f f f f . . . 
    . . . . f f . . . f f f . . . . 
    `,img`
    . . . . . . . . . . . . . . . . 
    . . . . . f f f f f f . . . . . 
    . . . f f e e e e f 2 f . . . . 
    . . f f e e e e f 2 2 2 f . . . 
    . . f e e e f f e e e e f . . . 
    . . f f f f e e 2 2 2 2 e f . . 
    . . f e 2 2 2 f f f f e 2 f . . 
    . f f f f f f f e e e f f f . . 
    . f f e 4 4 e b f 4 4 e e f . . 
    . f e e 4 d 4 1 f d d e f f . . 
    . . f e e e 4 d d d d f d d f . 
    . . . . f e e 4 e e e f b b f . 
    . . . . f 2 2 2 4 d d e b b f . 
    . . . f f 4 4 4 e d d e b f . . 
    . . . f f f f f f e e f f . . . 
    . . . . f f . . . f f f . . . . 
    `],
100,
false
)
pause(1000)
game.onUpdate(function () {
    if (controller.down.isPressed() && controller.right.isPressed()) {
        characterAnimations.loopFrames(
        mySprite,
        [img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ...............f.f..............
            ...............f.f..............
            ...............f.f..............
            ................f...............
            .........f.f..f.f.f..f.f........
            .........f.f..f.f.f..f.f........
            .........f..fff.f.fff..f........
            .........f...f.fff.f...f........
            .........f..f...f...f..f........
            ..........ff...fff...ff.........
            ..............fffff.............
            ..............f2f2f.............
            ...............fff..............
            ................f...............
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ..................f.f...........
            ..................f.f...........
            ..................f.f...........
            ...................f............
            ............f.f..f.f.f..f.f.....
            ............f.f..f.f.f..f.f.....
            ............f..fff.f.fff..f.....
            ............f...f.fff.f...f.....
            ............f..f...f...f..f.....
            .............ff...fff...ff......
            .................fffff..........
            .................f2f2f..........
            ..................fff...........
            ...................f............
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................f.f.......
            ......................f.f.......
            ......................f.f.......
            .......................f........
            ................f.f..f.f.f..f.f.
            ................f.f..f.f.f..f.f.
            ................f..fff.f.fff..f.
            ................f...f.fff.f...f.
            ................f..f...f...f..f.
            .................ff...fff...ff..
            .....................fffff......
            .....................f2f2f......
            ......................fff.......
            .......................f........
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................f.f.......
            ......................f.f.......
            ......................f.f.......
            .......................f........
            ................f.f..f.f.f..f.f.
            ................f.f..f.f.f..f.f.
            ................f..fff.f.fff..f.
            ................f...f.fff.f...f.
            ................f..f...f...f..f.
            .................ff...fff...ff..
            .....................fffff......
            .....................f2f2f......
            ......................fff.......
            .......................f........
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................f.f.......
            ......................f.f.......
            ......................f.f.......
            .......................f........
            ................f.f..f.f.f..f.f.
            ................f.f..f.f.f..f.f.
            ................f..fff.f.fff..f.
            ................f...f.fff.f...f.
            ................f..f...f...f..f.
            .................ff...fff...ff..
            .....................fffff......
            .....................f2f2f......
            ......................fff.......
            .......................f........
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................f.f.......
            ......................f.f.......
            ......................f.f.......
            .......................f........
            ................f.f..f.f.f..f.f.
            ................f.f..f.f.f..f.f.
            ................f..fff.f.fff..f.
            ................f...f.fff.f...f.
            ................f..f...f...f..f.
            .................ff...fff...ff..
            .....................fffff......
            .....................f2f2f......
            ......................fff.......
            .......................f........
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................f.f.......
            ......................f.f.......
            ......................f.f.......
            .......................f........
            ................f.f..f.f.f..f.f.
            ................f.f..f.f.f..f.f.
            ................f..fff.f.fff..f.
            ................f...f.fff.f...f.
            ................f..f...f...f..f.
            .................ff...fff...ff..
            .....................fffff......
            .....................f2f2f......
            ......................fff.......
            .......................f........
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................f.f.......
            ......................f.f.......
            ......................f.f.......
            .......................f........
            ................f.f..f.f.f..f.f.
            ................f.f..f.f.f..f.f.
            ................f..fff.f.fff..f.
            ................f...f.fff.f...f.
            ................f..f...f...f..f.
            .................ff...fff...ff..
            .....................fffff......
            .....................f2f2f......
            ......................fff.......
            .......................f........
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................f.f.......
            ......................f.f.......
            ......................f.f.......
            .......................f........
            ................f.f..f.f.f..f.f.
            ................f.f..f.f.f..f.f.
            ................f..fff.f.fff..f.
            ................f...f.fff.f...f.
            ................f..f...f...f..f.
            .................ff...fff...ff..
            .....................fffff......
            .....................f2f2f......
            ......................fff.......
            .......................f........
            ................................
            ................................
            ................................
            ................................
            `,img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ......................f.f.......
            ......................f.f.......
            ......................f.f.......
            .......................f........
            ................f.f..f.f.f..f.f.
            ................f.f..f.f.f..f.f.
            ................f..fff.f.fff..f.
            ................f...f.fff.f...f.
            ................f..f...f...f..f.
            .................ff...fff...ff..
            .....................fffff......
            .....................f2f2f......
            ......................fff.......
            .......................f........
            ................................
            ................................
            ................................
            ................................
            `],
        50,
        characterAnimations.rule(Predicate.MovingRight)
        )
    }
})
